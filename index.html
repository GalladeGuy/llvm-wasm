<!doctype html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <script>
         window.onload = () => {
             import('./index.js').then(({ compileAndRun }) => {
                 document.getElementById('compile-and-run').onclick = () => {
                     compileAndRun(document.getElementById('input').value)
                         .then((output) => document.getElementById('output').value = output)
                 }
             })
         }
        </script>
    </head>
    <body>
        <textarea id="input" cols="80" rows="24" spellcheck="false">#include <stdio.h>

int main(void) {
    printf("Hello wasm!\n");
}
</textarea>
        <br/>
        <input id="compile-and-run" value="Compile and run" type="button">
        <br/>
        <textarea id="output" cols="80" rows="24" spellcheck="false"></textarea>
    </body>
</html>
